<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
	<title>IT Abyss Wiki</title>
	<meta charset="utf-8">

	<!-- 引入配置文件 -->
	<link rel="stylesheet" href="/css/main.css">

	<!-- 字体图片库 -->
	<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

	<!-- 代码高亮库 -->
	<link rel="stylesheet" href="/lib/highlight/styles/atom-one-dark.css">
	
</head>
<body>

	<div id="main">
		<!-- 引入侧边栏 -->
		<aside>
			<!-- 搜索栏 -->
<div id="search">
	<input class="search-input" type="text" placeholder="search">
	<i id="search-icon" class="fa fa-bars" title="切换目录与索引">
</i></div>

<!-- 侧边目录栏 -->
<div id="tree">
	

	
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								Docker
							</a>
							
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								基础介绍
							</a>
							
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/基础介绍/01. 镜像/">
								<i class="fa fa-file"></i>
								01. 镜像
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/基础介绍/02. 容器/">
								<i class="fa fa-file"></i>
								02. 容器
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/基础介绍/03. 数据/">
								<i class="fa fa-file"></i>
								03. 数据
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/基础介绍/04. 仓库/">
								<i class="fa fa-file"></i>
								04. 仓库
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/基础介绍/05. 网络/">
								<i class="fa fa-file"></i>
								05. 网络
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/基础介绍/06. Dockerfile/">
								<i class="fa fa-file"></i>
								06. Dockerfile
							</a>
						</li>
					</ul>
	
						</li>
						
					</ul>
	
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								镜像部署
							</a>
							
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/镜像部署/CentOS/">
								<i class="fa fa-file"></i>
								CentOS
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/镜像部署/Git/">
								<i class="fa fa-file"></i>
								Git
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/镜像部署/MongoDB/">
								<i class="fa fa-file"></i>
								MongoDB
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/镜像部署/MySQL/">
								<i class="fa fa-file"></i>
								MySQL
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/镜像部署/Redis/">
								<i class="fa fa-file"></i>
								Redis
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/01/17/Docker/镜像部署/Tomcat/">
								<i class="fa fa-file"></i>
								Tomcat
							</a>
						</li>
					</ul>
	
						</li>
						
					</ul>
	
						</li>
						
					</ul>
	
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								Hexo
							</a>
							
					<ul>
						<li class="file active">
							<a href="/2019/06/11/Hexo/主题开发/">
								<i class="fa fa-file"></i>
								主题开发
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2018/06/27/Hexo/安装/">
								<i class="fa fa-file"></i>
								安装
							</a>
						</li>
					</ul>
	
						</li>
						
					</ul>
	
					<ul>
						<li class="file">
							<a href="/2019/06/11/test-hello-world/">
								<i class="fa fa-file"></i>
								test-hello-world
							</a>
						</li>
					</ul>
	
</div>


<!-- 最尾部添加，这里就不列以前的代码了 -->
<div id="toc" style="display: none;"></div>

		</aside>

		<!-- 引入导航 -->
		<nav>
			<ul id="menu">
	
	
    <li class="menu-item">
        <a href="/" class="menu-item-link">主页</a>
    </li>
    
    <li class="menu-item">
        <a href="/about" class="menu-item-link">关于</a>
    </li>
    

    
    
    <li class="menu-item">
        <a href="https://www.cnblogs.com/yyhh/" class="menu-item-link" target="_blank">博客园</a>
    </li>
    
    <li class="menu-item">
        <a href="https://github.com" class="menu-item-link" target="_blank">github</a>
    </li>
    

</ul>

		</nav>

		<!-- 引入正文 -->
		<div id="content">
			<div>
	<span id="post-author">猴子请来的救兵</span>
	<span id="post-date">2019-06-11 15:11:25</span>
</div>

<div id="article">
	<h1 id="Hexo-主题开发"><a href="#Hexo-主题开发" class="headerlink" title="Hexo 主题开发"></a><a href><strong>Hexo</strong></a> 主题开发</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>Hexo 是一款能将『 Markdown 』文件编译成『 html 』静态文件，可以提供『 Web 』服务，做『 Blog 』，使其能部署到『 gitpage 』上等等。首先要安装『 <a href="https://nodejs.org/" target="_blank" rel="noopener">node.js</a> 』，安装好了以后，就可以使用『 npm 』来安装了，可能会读取系统配置文件，所以需要给『 root 』权限，使用『 sodu 』执行以下命令</p>
<pre><code class="bash">$ sudo npm install -g hexo-cli</code></pre>
<pre><code class="bash">/usr/local/bin/hexo -&gt; /usr/local/lib/node_modules/hexo-cli/bin/hexo

&gt; fsevents@1.2.4 install /usr/local/lib/node_modules/hexo-cli/node_modules/fsevents
&gt; node install

[fsevents] Success: &quot;/usr/local/lib/node_modules/hexo-cli/node_modules/fsevents/lib/binding/Release/node-v57-darwin-x64/fse.node&quot; already installed
Pass --update-binary to reinstall or --build-from-source to recompile
+ hexo-cli@1.1.0
added 171 packages in 6.255s</code></pre>
<p>这个时候可以测试以下，是否安装成功</p>
<pre><code class="bash">$ hexo -version</code></pre>
<pre><code class="bash">hexo-cli: 1.1.0
os: Darwin 17.6.0 darwin x64
http_parser: 2.8.0
node: 8.11.3
v8: 6.2.414.54
uv: 1.19.1
zlib: 1.2.11
ares: 1.10.1-DEV
modules: 57
nghttp2: 1.32.0
napi: 3
openssl: 1.0.2o
icu: 60.1
unicode: 10.0
cldr: 32.0
tz: 2017c</code></pre>
<h2 id="Blog"><a href="#Blog" class="headerlink" title="Blog"></a>Blog</h2><p>新建一个目录，来搭建一个简易的『 Blog 』吧。</p>
<pre><code class="bash">$ mkdir ~/hexo-blog
$ cd ~/hexo-blog
$ hexo init</code></pre>
<pre><code class="bash">INFO  Cloning hexo-starter to ~/hexo-blog
Cloning into &#39;/Users/wywk/hexo-blog&#39;...
remote: Counting objects: 65, done.
remote: Total 65 (delta 0), reused 0 (delta 0), pack-reused 65
Unpacking objects: 100% (65/65), done.
Submodule &#39;themes/landscape&#39; (https://github.com/hexojs/hexo-theme-landscape.git) registered for path &#39;themes/landscape&#39;
Cloning into &#39;/Users/wywk/hexo-blog/themes/landscape&#39;...
remote: Counting objects: 824, done.
remote: Total 824 (delta 0), reused 0 (delta 0), pack-reused 823
Receiving objects: 100% (824/824), 2.54 MiB | 1.01 MiB/s, done.
Resolving deltas: 100% (435/435), done.
Submodule path &#39;themes/landscape&#39;: checked out &#39;73a23c51f8487cfcd7c6deec96ccc7543960d350&#39;
INFO  Install dependencies
npm WARN deprecated titlecase@1.1.2: no longer maintained

&gt; fsevents@1.2.4 install /Users/wywk/hexo-blog/node_modules/fsevents
&gt; node install

[fsevents] Success: &quot;/Users/wywk/hexo-blog/node_modules/fsevents/lib/binding/Release/node-v57-darwin-x64/fse.node&quot; already installed
Pass --update-binary to reinstall or --build-from-source to recompile

&gt; nunjucks@3.1.3 postinstall /Users/wywk/hexo-blog/node_modules/nunjucks
&gt; node postinstall-build.js src

npm notice created a lockfile as package-lock.json. You should commit this file.
added 470 packages in 20.978s
INFO  Start blogging with Hexo!</code></pre>
<p>初始化之后，看到如上信息，说明已经初始化成功了。接下来，直接启动服务，就可以大致浏览『 Blog 』了。</p>
<pre><code class="sh">$ cd ~/hexo-blog
$ hexo s</code></pre>
<pre><code class="bash">INFO  Start processing
INFO  Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.</code></pre>
<p>启动后，访问『 <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> 』</p>
<p><img src="/2019/06/11/Hexo/主题开发/image-20180627190808193.png" alt="image-20180627190808193"></p>
<p>当然也可以使用一些其他的命令，可以通过帮助来查看</p>
<pre><code class="sh">hexo help
Usage: hexo &lt;command&gt;

Commands:
  clean     Remove generated files and cache.
  config    Get or set configurations.
  deploy    Deploy your website.
  generate  Generate static files.
  help      Get help on a command.
  init      Create a new Hexo folder.
  list      List the information of the site
  migrate   Migrate your site from other system to Hexo.
  new       Create a new post.
  publish   Moves a draft post from _drafts to _posts folder.
  render    Render files with renderer plugins.
  server    Start the server.
  version   Display version information.

Global Options:
  --config  Specify config file instead of using _config.yml
  --cwd     Specify the CWD
  --debug   Display all verbose messages in the terminal
  --draft   Display draft posts
  --safe    Disable all plugins and scripts
  --silent  Hide output on console</code></pre>
<h2 id="主题下载"><a href="#主题下载" class="headerlink" title="主题下载"></a>主题下载</h2><p>Hexo 有很多精彩的主题，可以去『 <a href="https://hexo.io/themes/" target="_blank" rel="noopener">官方主题网站</a> 』去查阅，找到自己喜欢的主题。</p>
<p>这次所写是自己基于Hexo的框架，编写一个自己喜欢的主题。我个人喜欢极简快速的主题，所以不太喜欢花哨的、很多插件、很多挂件的那种，感觉加载起来特别的卡，可能是作为性能测试人员的坏毛病，喜欢追求极致的速度。没有找到自己喜欢的极简风格，所以就自己写了一个简单的 wiki ，用于代替云笔记。</p>
<h2 id="主题开发"><a href="#主题开发" class="headerlink" title="主题开发"></a>主题开发</h2><h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p>首先得创建一个自己 Blog 的文件夹，我这边建的文件夹叫『 wiki 』，然后在这个文件夹下，进行 Hexo 的初始化。</p>
<pre><code class="sh">mkdir wiki
cd wiki
hexo init</code></pre>
<p>初始化之后就会有一个这样的目录。</p>
<pre><code class="sh">wiki ➔  tree -L 1
.
├── _config.yml       // 总体的配置文件
├── node_modules      // NodeJs 所依赖的包，后期也可以自己添加插件
├── package-lock.json // 支持 hexo 运行的 NodeJs 包
├── package.json      // 自定义的 NodeJs 包
├── scaffolds         // Hexo Markdown 加载时的关键字，如data,title等,它会在启动的时候默认加载
├── source            // md 源文件目录
└── themes            // 主题文件夹
    └── landscape     // 默认主题        </code></pre>
<p>我们编写 md 文档放在 『source』文件夹中，在运行『hexo generate』的时候，会根据『source』目录中的 md 文件自动生成一组 『html』格式的静态文件组，会在wiki目录下新建一个 『public』目录，存放在其中。</p>
<p>在『_config.yml』中的 73 行左右，可以看到配置的默认主题，是在『theme』下的。</p>
<pre><code class="yml"># Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: landscape</code></pre>
<p>在『themes』目录下，新建一个自己的主题『wiki』，并且新建一些可以支持运行的文件与目录，按照如下目录格式创建，里面可以不写东西。</p>
<pre><code class="sh">wiki ➔  tree -L 1
.
├── _config.yml                 
├── node_modules                
├── package-lock.json        
├── package.json                
├── scaffolds                        
├── source                            
└── themes                            
    ├── landscape
    └── wiki                                // 自建的主题目录
        ├── _config.yml            // 主题配置文件
        ├── layout                    // 主要构造 html 的模板
        │   ├── index.ejs        // 主页模板
        │   ├── layout.ejs     // 布局模板
        │   └── post.ejs        // md 编译成 html 后的文件模板
        └── source                    // 静态资源文件目录
            ├── css                    // css 样式目录
            └── js                    // JavaScript 脚本目录

</code></pre>
<p>在『_config.yml』中 73 行左右修改主题，指向刚创建的 wiki 目录。</p>
<p>这里的『_config.yml』指的是 Hexo 的配置文件。</p>
<p>后面如果要修改主题的配置文件，全部都会叫做 『themes._config.yml』。</p>
<p>这里不会详细介绍配置是干嘛的，详细可以去查阅<a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">官网配置详解</a></p>
<pre><code class="yml"># Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
## theme: landscape
theme: wiki</code></pre>
<p>在 wiki 目录下，启动 hexo 进行测试</p>
<pre><code class="sh"># 可以使用 hexo server 也可以直接简写 hexo s
hexo s
INFO  Start processing
INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</code></pre>
<p>访问 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p>
<p>可以看到一个白色的界面</p>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611175811781.png" alt="image-20190611175811781"></p>
<h3 id="模块介绍"><a href="#模块介绍" class="headerlink" title="模块介绍"></a>模块介绍</h3><p>为了测试该界面，分别在刚刚新建的 layout.ejs、index.ejs、post.ejs 中加些文字。</p>
<p>『layout.ejs』 这个文件是用于布局的</p>
<pre><code class="html">这里是 layout.ejs</code></pre>
<p>『index.ejs』 这个文件是用于主页的</p>
<pre><code class="html">这里是 index.ejs</code></pre>
<p>『post.ejs』 这个文件是用于文章的</p>
<pre><code class="html">这里是 post.ejs</code></pre>
<p>刷新 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>，可以看到有中文乱码。</p>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611180317902.png" alt="image-20190611180317902"></p>
<p>在 『layout.ejs』加上 html 代码，加上 utf-8 编码显示。</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
&lt;/head&gt;
&lt;body&gt;

    这里是 layout.ejs

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>重启 hexo 服务 【注意: 这次要重启，还是乱码的请重启】</p>
<p>重启好了再刷新 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611180729426.png" alt="image-20190611180729426"></p>
<p>可以发现 layout.ejs 给默认展示出来了，但是 index.ejs 和 post.ejs 呢？</p>
<p>可以用 ejs 引入代码，将这两个模板给引入</p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
&lt;/head&gt;
&lt;body&gt;

    这里是 layout.ejs

    &lt;%- include(&quot;index.ejs&quot;) %&gt;

    &lt;%- include(&quot;post.ejs&quot;) %&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611181023821.png" alt="image-20190611181023821"></p>
<h3 id="EJS-标签"><a href="#EJS-标签" class="headerlink" title="EJS 标签"></a>EJS 标签</h3><p>这里简单介绍一下 ejs 语法，介绍几个用的到的标签也是就好了。详细资料可以查阅 <a href="https://ejs.bootcss.com/" target="_blank" rel="noopener">EJS文档</a>。</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>&lt;%</td>
<td>脚本标签，用于流程控制</td>
</tr>
<tr>
<td>&lt;%_</td>
<td>删除前面的空格符</td>
</tr>
<tr>
<td>&lt;%=</td>
<td>输出数据到模板</td>
</tr>
<tr>
<td>&lt;%-</td>
<td>输出非转义数据到模板</td>
</tr>
<tr>
<td>&lt;%#</td>
<td>注释</td>
</tr>
<tr>
<td>&lt;%%</td>
<td>输出字符串『&lt;%』</td>
</tr>
<tr>
<td>&gt;%</td>
<td>脚本结束标签</td>
</tr>
<tr>
<td>-%&gt;</td>
<td>结束时，删除换行符</td>
</tr>
<tr>
<td>_%&gt;</td>
<td>结束时，删除空格符</td>
</tr>
<tr>
<td>&lt;%- include(“index.ejs”) %&gt;</td>
<td>引入其他模板</td>
</tr>
</tbody></table>
<p>上面代码就引入了各个 ejs 模板，可以更加方便用于模块开发。稍微测试一下</p>
<p>『layout.ejs』</p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
&lt;/head&gt;
&lt;body&gt;

    这里是 layout.ejs

    &lt;%- include(&quot;index.ejs&quot;) %&gt;

    &lt;%- include(&quot;post.ejs&quot;) %&gt;

    &lt;!-- 一般在写逻辑的时候会用到这个标签，这个标签不会输出到页面上 --&gt;
    &lt;%  %&gt;

    &lt;!-- 这个标签会输出到页面上，是带着非转义符号的 --&gt;
    &lt;% 
        var test = &quot;基本上，就用这两组标签，其他的也用不上。&quot;;
    %&gt;

    &lt;%- test %&gt;


&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611210222968.png" alt="image-20190611210222968"></p>
<h3 id="Hexo-变量"><a href="#Hexo-变量" class="headerlink" title="Hexo 变量"></a>Hexo 变量</h3><p>再一个就是要介绍一下，<a href="https://hexo.io/zh-cn/docs/variables" target="_blank" rel="noopener">Hexo Api</a> 我们会根据它提供的变量 api 来获取页面信息，进行 Blog 开发。同样稍微介绍一下常用的。</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>site</td>
<td>总体变量，几乎都是从这里开始的</td>
</tr>
<tr>
<td>site.posts</td>
<td>所有文章</td>
</tr>
<tr>
<td>site.posts.path</td>
<td>文章路径，带日期的</td>
</tr>
<tr>
<td>site.posts.slug</td>
<td>文章路径，根据项目文件夹的路径来的</td>
</tr>
<tr>
<td>site.posts._id</td>
<td>文章的唯一 id，后面会用于 active 对比</td>
</tr>
<tr>
<td>site.posts.title</td>
<td>文章的标题</td>
</tr>
<tr>
<td>site.posts.date</td>
<td>文章的时间</td>
</tr>
<tr>
<td>page.date</td>
<td>在直接访问文章路径下，文章的时间</td>
</tr>
<tr>
<td>page.title</td>
<td>在直接访问文章路径下，文章的标题</td>
</tr>
<tr>
<td>page._id</td>
<td>在直接访问文章路径下，文章的的唯一 id，后面会用于 active 对比</td>
</tr>
<tr>
<td>page.content</td>
<td>引入对应文章的正文</td>
</tr>
<tr>
<td>config.xxx</td>
<td>总体配置文件的引用 _config.yml</td>
</tr>
<tr>
<td>theme.xxx</td>
<td>主题配置文件 theme._config.yml</td>
</tr>
<tr>
<td>&lt;%- body %&gt;</td>
<td>同时引入 post.ejs 和 index.ejs</td>
</tr>
<tr>
<td>&lt;%- css(path, …) %&gt;</td>
<td>引入 css 文件</td>
</tr>
<tr>
<td>&lt;%- js(path, …) %&gt;</td>
<td>引入 js 文件</td>
</tr>
</tbody></table>
<p>同样是稍微的测试一下</p>
<p>『layout.ejs』</p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
&lt;/head&gt;
&lt;body&gt;

    这里是 layout.ejs

    &lt;%- include(&quot;index.ejs&quot;) %&gt;

    &lt;%- include(&quot;post.ejs&quot;) %&gt;

    &lt;!-- 一般在写逻辑的时候会用到这个标签，这个标签不会输出到页面上 --&gt;
    &lt;%  %&gt;

    &lt;!-- 这个标签会输出到页面上，是带着非转义符号的 --&gt;
    &lt;% 
        var test = &quot;基本上，就用这两组标签，其他的也用不上。&quot;;
    %&gt;

    &lt;%- test %&gt;

    &lt;br /&gt;

    &lt;% site.posts.forEach(function(post){ %&gt;

        &lt;%- post.path %&gt;
        &lt;br /&gt;
        &lt;%- post.slug %&gt;
        &lt;br /&gt;
        &lt;%- post._id %&gt;
        &lt;br /&gt;
        &lt;%- post.title %&gt;
        &lt;br /&gt;
        &lt;%- post.date %&gt;
        &lt;br /&gt;

        &lt;a href=&quot;/&lt;%- post.path %&gt;&quot;&gt;&lt;%- post.title %&gt;&lt;/a&gt;

    &lt;% }); %&gt;

  &lt;%- body %&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611212914872.png" alt="image-20190611212914872"></p>
<p>可以看到，点击了这个 Hello World 的超链接，跳转过去，并没有看到任何信息，是因为在 post.ejs 中没有引入文章，所以没有信息，这个时候在 post.ejs 中引入文章</p>
<p>『post.ejs』</p>
<pre><code class="ejs">这里是 post.ejs

&lt;%- page.content %&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611213529727.png" alt="image-20190611213529727"></p>
<p>这个时候访问主页的 Hello World 之后，就会访问文章的 url 了，此时也有文章出现了。</p>
<p>如果想要看变量里面都是什么东西，可以使用 js 的 console.log() 来查看，在控制台中查看</p>
<p>『layout.ejs』</p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;% console.log(site.posts) %&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611214947308.png" alt="image-20190611214947308"></p>
<h2 id="主题制作"><a href="#主题制作" class="headerlink" title="主题制作"></a>主题制作</h2><h3 id="主题布局"><a href="#主题布局" class="headerlink" title="主题布局"></a>主题布局</h3><p>说道这里，万事俱备，就可以正儿八经的开始做事了。我想要一个这样布局的 wiki</p>
<p><img src="/2019/06/11/Hexo/主题开发/%E5%B8%83%E5%B1%80.png" alt="布局"></p>
<h3 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h3><p>新建静态资源文件，并且放一下测试的 md 文件进 _posts 中，整个 wiki 的目录如下。主要添加了 theme.wiki.source 中的静态资源和已经布局用的 ejs</p>
<pre><code class="sh">wiki ➔  tree -N
.
├── _config.yml
├── db.json
├── node_modules
├── package-lock.json
├── package.json
├── scaffolds
├── source
│   └── _posts
│       ├── Docker
│       │   ├── 基础介绍
│       │   │   ├── 01. 镜像.md
│       │   │   ├── 02. 容器.md
│       │   │   ├── 03. 数据.md
│       │   │   ├── 04. 仓库.md
│       │   │   ├── 05. 网络.md
│       │   │   └── 06. Dockerfile.md
│       │   └── 镜像部署
│       │       ├── CentOS
│       │       │   └── success.png
│       │       ├── CentOS.md
│       │       ├── Git.md
│       │       ├── MongoDB.md
│       │       ├── MySQL.md
│       │       ├── Redis.md
│       │       └── Tomcat.md
│       ├── Hexo
│       │   ├── 安装
│       │   │   ├── image-20180627184245526.png
│       │   │   ├── image-20180627190554905.png
│       │   │   └── image-20180627190808193.png
│       │   ├── 安装.md
│       │   ├── 主题开发
│       │   │   ├── image-20180627190808193.png
│       │   │   ├── image-20190611175811781.png
│       │   │   ├── image-20190611180317902.png
│       │   │   ├── image-20190611180729426.png
│       │   │   ├── image-20190611181023821.png
│       │   │   ├── image-20190611210222968.png
│       │   │   ├── image-20190611212914872.png
│       │   │   ├── image-20190611213529727.png
│       │   │   ├── image-20190611214947308.png
│       │   │   └── 布局.png
│       │   └── 主题开发.md
│       └── test-hello-world.md
└── themes
    ├── landscape
    └── wiki
        ├── _config.yml
        ├── layout
        │   ├── aside.ejs                // 用于侧边栏
        │   ├── index.ejs                // 用于主页
        │   ├── layout.ejs            // 用于布局
        │   ├── nav.ejs                    // 用于导航
        │   └── post.ejs                // 用于文章
        └── source
            ├── css
            │   └── main.css
            ├── js
            │   └── main.js
            └── lib</code></pre>
<h3 id="主题配置文件"><a href="#主题配置文件" class="headerlink" title="主题配置文件"></a>主题配置文件</h3><p>在 theme._config.yml 配置文件中，添加自己主题的标题，用于 layout.ejs 的引用。</p>
<pre><code class="yml">title: IT Abyss Wiki

author: 猴子请来的救兵

menus: 
  主页: /
  关于: /about

links:
  博客园: https://www.cnblogs.com/yyhh/
  github: https://github.com</code></pre>
<h3 id="设计主布局文件"><a href="#设计主布局文件" class="headerlink" title="设计主布局文件"></a>设计主布局文件</h3><p>『layout.ejs』</p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;%- theme.title %&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;

    &lt;!-- 引入配置文件 --&gt;
    &lt;%- css(&#39;css/main.css&#39;) %&gt;

&lt;/head&gt;
&lt;body&gt;

    &lt;div id=&quot;main&quot;&gt;
        &lt;!-- 引入侧边栏 --&gt;
        &lt;aside id=&quot;#aside&quot;&gt;
            &lt;%- include(&#39;aside.ejs&#39;) %&gt;
        &lt;/aside&gt;

        &lt;!-- 引入导航 --&gt;
        &lt;nav&gt;
            &lt;%- include(&#39;nav.ejs&#39;) %&gt;
        &lt;/nav&gt;

        &lt;!-- 引入正文 --&gt;
        &lt;div id=&quot;content&quot;&gt;
      &lt;%- body %&gt;
        &lt;/div&gt;

    &lt;/div&gt;

    &lt;!-- 引入 js 文件 --&gt;
    &lt;%- js(&#39;js/main.js&#39;) %&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>订制 css 样式表中的测试样式，便于观察布局</p>
<p>『css/main.css』</p>
<pre><code class="css">/* #################### 全局 #################### */
* {
    margin: 0;
    padding: 0;
    border: 0;
}

html, body {
    height: 100%;
}

aside {
    width: 320px;
    height: 100%;
    position: fixed;
    background: #262a30;
}

nav {
    height: 50px;
    background: #b9e1b1;
}

#content {
    height: 100%;
    padding-left: 320px;
    background: #f9f7ed;
}
/* #################### 全局 #################### */
</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190611230618990.png" alt="image-20190611230618990"></p>
<h3 id="添加导航栏"><a href="#添加导航栏" class="headerlink" title="添加导航栏"></a>添加导航栏</h3><p>将刚刚配置文件里面加的导航给列出来</p>
<p>『nav.ejs』</p>
<pre><code class="ejs">&lt;ul id=&quot;menu&quot;&gt;

    &lt;% for ( menu in theme.menus ) { %&gt;
    &lt;li class=&quot;menu-item&quot;&gt;
        &lt;a href=&quot;&lt;%- theme.menus[menu] %&gt;&quot; class=&quot;menu-item-link&quot;&gt;&lt;%- menu %&gt;&lt;/a&gt;
    &lt;/li&gt;
    &lt;% } %&gt;

    &lt;% for ( link in theme.links ) { %&gt;
    &lt;li class=&quot;menu-item&quot;&gt;
        &lt;a href=&quot;&lt;%- theme.links[link] %&gt;&quot; class=&quot;menu-item-link&quot; target=&quot;_blank&quot;&gt;&lt;%- link %&gt;&lt;/a&gt;
    &lt;/li&gt;
    &lt;% } %&gt;

&lt;/ul&gt;
</code></pre>
<p>添加 css 美化</p>
<p>『main.css』</p>
<pre><code class="css">/* #################### 导航 #################### */
nav #menu {
    float: right;
    padding-right: 20px;
}
nav ul li {
    float: left;
    padding: 10px;
    list-style: none;
}
nav ul li a{
    color: #555;
    font-size: 12px;
    text-decoration: none;
}
nav ul li a:hover {
    border-bottom: 1px solid;
}
/* #################### 导航 #################### */</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190612162825376.png" alt="image-20190612162825376"></p>
<h3 id="添加侧边栏"><a href="#添加侧边栏" class="headerlink" title="添加侧边栏"></a>添加侧边栏</h3><p>想要一个有树状结构的侧边栏，然后给目录、文件、以及搜索框增加图标，需要外部的图片库 。</p>
<p>我的用的图片库是『<a href="http://fontawesome.dashgame.com" target="_blank" rel="noopener">Font Awesome</a>』。下载好了，放到 source/lib 中。</p>
<pre><code class="sh">themes/wiki/
├── _config.yml
├── layout
│   ├── aside.ejs
│   ├── index.ejs
│   ├── layout.ejs
│   ├── nav.ejs
│   └── post.ejs
└── source
    ├── css
    │   └── main.css
    ├── js
    │   └── main.js
    └── lib
        └── font-awesome            // 下载好的文字图片库
            ├── css
            ├── fonts
            ├── less
            └── scss</code></pre>
<p>在布局文件中，新增字体图片库的 css 文件引用</p>
<p>『layout.ejs』</p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;%- theme.title %&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;

    &lt;!-- 引入配置文件 --&gt;
    &lt;%- css(&#39;css/main.css&#39;) %&gt;

    &lt;!-- 字体图片库 --&gt;
    &lt;%- css(&#39;lib/font-awesome/css/font-awesome.min.css&#39;) %&gt;

&lt;/head&gt;
&lt;body&gt;

    &lt;div id=&quot;main&quot;&gt;
        &lt;!-- 引入侧边栏 --&gt;
        &lt;aside&gt;
            &lt;%- include(&#39;aside.ejs&#39;) %&gt;
        &lt;/aside&gt;

        &lt;!-- 引入导航 --&gt;
        &lt;nav&gt;
            &lt;%- include(&#39;nav.ejs&#39;) %&gt;
        &lt;/nav&gt;

        &lt;!-- 引入正文 --&gt;
        &lt;div id=&quot;content&quot;&gt;
            &lt;div id=&quot;article&quot;&gt;
                &lt;%- body %&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;

    &lt;!-- 引入 js 文件 --&gt;
    &lt;%- js(&#39;js/main.js&#39;) %&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>添加侧边栏代码，主要做了路径转树的算法，然后显示树。新增了一个搜索框。</p>
<p>『aside.ejs』</p>
<pre><code class="ejs">&lt;!-- 搜索栏 --&gt;
&lt;div id=&quot;search&quot;&gt;
    &lt;input class=&quot;search-input&quot; type=&quot;text&quot; placeholder=&quot;search&quot;&gt;
    &lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt;
&lt;/div&gt;

&lt;!-- 侧边目录栏 --&gt;
&lt;div id=&quot;tree&quot;&gt;
    &lt;%
        &lt;!-- 将路径转换成 tree 目录结构 --&gt;
        const pathToTree = (input) =&gt; {
            var output = [];
            input.forEach(function(post){
                &lt;!-- 用来分割去掉时间的路径 --&gt;
                var chain = post.slug.split(&quot;/&quot;);
                var currentNode = output;
                for (var j = 0; j &lt; chain.length; j++) {
                    if (chain[j] === &#39;&#39;) {
                        break;
                    }
                    var wantedNode = chain[j];
                    var lastNode = currentNode;

                    for (var k = 0; k &lt; currentNode.length; k++) {
                        if (currentNode[k].title == wantedNode) {
                            currentNode = currentNode[k].children;
                            break;
                        }
                    }

                    if (lastNode == currentNode) {
                        var newNode = currentNode[k] = { post: post, title: wantedNode, children: [] };
                        currentNode = newNode.children;
                    } else {
                        delete currentNode.children
                    }
                }
            });
            return output;
        }

        &lt;!-- console.log(output) --&gt;
    %&gt;

    &lt;%
        &lt;!-- 递归输出侧边栏目录 tree --&gt;
        const showTree = (input) =&gt; {

            &lt;!-- 按 tile ascii 排序 --&gt;
            input.sort(function(a, b){
                var len = a.title.length &gt; b.title.length ? a.title.length : b.title.length;
                for ( var i = 0; i &lt; len; i++ ) {
                    res = a.title[i].charCodeAt() - b.title[i].charCodeAt();
                    if ( res ) { return res }
                }
            });

            &lt;!-- 循环输出 html 结构 --&gt;
            input.forEach(function(node) {
                if ( node.children == 0 ) {

    %&gt;
                    &lt;ul&gt;
                        &lt;li class=&quot;file&lt;%- (is_post() &amp;&amp; node.post._id == page._id) ? &#39; active&#39; : &#39;&#39; %&gt;&quot;&gt;
                            &lt;a href=&quot;/&lt;%- node.post.path %&gt;&quot;&gt;
                                &lt;i class=&quot;fa fa-file&quot;&gt;&lt;/i&gt;
                                &lt;%- node.title %&gt;
                            &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
    &lt;%
                }
                else {
    %&gt;
                    &lt;ul&gt;
                        &lt;li class=&quot;directory&quot;&gt;
                            &lt;a&gt;
                                &lt;i class=&quot;fa fa-folder&quot;&gt;&lt;/i&gt;
                                &lt;%- node.title %&gt;
                            &lt;/a&gt;
                        &lt;/li&gt;
                        &lt;%- showTree(node.children) %&gt;
                    &lt;/ul&gt;
    &lt;%
                }
            });
        }

        showTree(pathToTree(site.posts))
    %&gt;
&lt;/div&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190612173930007.png" alt="image-20190612173930007"></p>
<p>在 main.css 文件中，增加侧边栏美化</p>
<p>『main.css』</p>
<pre><code class="css">/* #################### 侧边栏 #################### */
/* 搜索框 */
aside input {
    width: 290px;
    height: 50px;
    margin: 0;
    border: 0;
    padding: 0;
    left: 0;
    font-size: 14px;
    background: #131417;
    text-indent: 20px;
    outline: none;
    color: #87daff;
    position: absolute;
}

/* 搜索图标 */
aside #search i.fa.fa-search {
    position: absolute;
    top: 0;
    right: 0;
    color: #757575;
    font-size: 20px;
    width: 40px;
    height: 50px;
    background: #131417;
    text-align: center;
    line-height: 2.5;
}

/* 滚动条 */
aside {
    overflow-y: scroll;
}

/* 树目录位置 */
aside #tree {
    padding-top: 55px
}

/* 树目录 */
aside ul {
    padding: 0px 5px 5px 20px;
}
aside ul li {
    list-style: none;
    line-height: 25px;
}
aside ul li a {
    color: #999;
    font-size: 14px;
    text-decoration: none

}
aside ul li a:hover {
    color: #ccc;
    border-bottom: 1px solid #ccc;
    cursor:pointer;
}
aside #tree .active a,
aside #tree .active a:hover {
    color: #87daff;
    border-bottom: 1px solid #87daff;
}

aside #tree i.fa {
    padding-right: 5px;
}

/* #################### 侧边栏 #################### */</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190612173955929.png" alt="image-20190612173955929"></p>
<h3 id="添加文章"><a href="#添加文章" class="headerlink" title="添加文章"></a>添加文章</h3><p>侧边栏还有搜索功能，和目录折叠功能没实现，这个后面再实现，先把链接里面的内容给搞定，这个时候需要编辑 post.ejs了</p>
<p>『post.ejs』</p>
<pre><code class="ejs">&lt;div&gt;
    &lt;span id=&quot;post-author&quot;&gt;作者: &lt;%- theme.author %&gt;&lt;/span&gt;
    &lt;span id=&quot;post-date&quot;&gt;&lt;%- date(page.date, &quot;YYYY-MM-DD HH:mm:ss&quot;) %&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div id=&quot;article&quot;&gt;
    &lt;%- page.content %&gt;
&lt;/div&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190613000159693.png" alt="image-20190613000159693"></p>
<h4 id="图片插件"><a href="#图片插件" class="headerlink" title="图片插件"></a>图片插件</h4><p>可以看到，大致雏形出来了，但是图片都是 404 找不到。</p>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190613000328131.png" alt="image-20190613000328131"></p>
<p>查看后，发现图片的路径不对。因为我用 『Typora』进行 md 的编写。里面有个设置就是将图片保存在当前文件名命名的同级目录下。</p>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190613000513361.png" alt="image-20190613000513361"></p>
<p>因此为了保证 Hexo 的图片与我设置的一致，需要安装一个 NodeJs 插件 『hexo-asset-image』获取文件相对路径下同名文件夹的图片。</p>
<p>返回到 hexo init 的 wiki 目录下进行安装 【<strong>注意: 不是主题的wiki</strong>】</p>
<pre><code class="sh">npm install https://github.com/CodeFalling/hexo-asset-image --save</code></pre>
<p>安装好了插件以后，需要在总的配置文件 _config.yml 的第 38 行，将值修改成 true</p>
<pre><code class="yml"># 获取文件相对目录的图片
post_asset_folder: true</code></pre>
<p>安装好了，重新启动一下 hexo</p>
<pre><code class="sh">wiki ➔  hexo s
INFO  Start processing
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20180627190808193.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611175811781.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611180317902.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611180729426.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611181023821.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611210222968.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611212914872.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611213529727.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611214947308.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/%E5%B8%83%E5%B1%80.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20180627190808193.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611175811781.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611180317902.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611180729426.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611181023821.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611210222968.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611212914872.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611213529727.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/image-20190611214947308.png
update link as:--&gt;/2019/06/11/Hexo/主题开发/%E5%B8%83%E5%B1%80.png
update link as:--&gt;/2018/06/27/Hexo/安装/image-20180627190808193.png
update link as:--&gt;/2018/06/27/Hexo/安装/image-20180627190808193.png
update link as:--&gt;/2018/01/17/Docker/镜像部署/CentOS/success.png
update link as:--&gt;/2018/01/17/Docker/镜像部署/CentOS/success.png
INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</code></pre>
<p>看日志，发现他已经在更新我的图片了，看一眼 Blog 图片就已经出来了，不再是 404 了。</p>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190613001844206.png" alt="image-20190613001844206"></p>
<p>仔细看文件路径，在我 『主题开发.md』文件的同级，有个名字叫『主题开发』的文件夹，里面存着我引用的图片资源，这样的路径，才能被这个插件给加载出来。</p>
<pre><code class="sh">├── Hexo
│       │   ├── 安装
│       │   │   ├── image-20180627184245526.png
│       │   │   ├── image-20180627190554905.png
│       │   │   └── image-20180627190808193.png
│       │   ├── 安装.md
│       │   ├── 主题开发
│       │   │   ├── image-20180627190808193.png
│       │   │   ├── image-20190611175811781.png
│       │   │   ├── image-20190611180317902.png
│       │   │   ├── image-20190611180729426.png
│       │   │   ├── image-20190611181023821.png
│       │   │   ├── image-20190611210222968.png
│       │   │   ├── image-20190611212914872.png
│       │   │   ├── image-20190611213529727.png
│       │   │   ├── image-20190611214947308.png
│       │   │   └── 布局.png
│       │   └── 主题开发.md</code></pre>
<h4 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h4><p>剩下的就是给文章做 css 美化了，当然，美化一定要代码高亮了。我用的代码高亮是比较流行的 『<a href="https://highlightjs.org" target="_blank" rel="noopener">highlightjs</a>』下载了其中我非常喜欢的 『<a href="https://highlightjs.org/download/" target="_blank" rel="noopener">atom-one-dark</a>』的主题。如果有自己更喜欢的主题，可以根据自己的喜好进行下载。</p>
<p>跟图片库『font-awesome』一样，也把它放进 source/lib 中</p>
<pre><code class="sh">themes/wiki/source/
├── css
│   └── main.css
├── js
│   └── main.js
└── lib
    ├── font-awesome
    └── highlight</code></pre>
<p>在 『laout.ejs』中，引入它的 css 与 js，引入后，记得让高亮加载</p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;%- theme.title %&gt;&lt;/title&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;

    &lt;!-- 引入配置文件 --&gt;
    &lt;%- css(&#39;css/main.css&#39;) %&gt;

    &lt;!-- 字体图片库 --&gt;
    &lt;%- css(&#39;lib/font-awesome/css/font-awesome.min.css&#39;) %&gt;

    &lt;!-- 代码高亮库 --&gt;
    &lt;%- css(&#39;/lib/highlight/styles/atom-one-dark&#39;) %&gt;

&lt;/head&gt;
&lt;body&gt;

    &lt;div id=&quot;main&quot;&gt;
        &lt;!-- 引入侧边栏 --&gt;
        &lt;aside&gt;
            &lt;%- include(&#39;aside.ejs&#39;) %&gt;
        &lt;/aside&gt;

        &lt;!-- 引入导航 --&gt;
        &lt;nav&gt;
            &lt;%- include(&#39;nav.ejs&#39;) %&gt;
        &lt;/nav&gt;

        &lt;!-- 引入正文 --&gt;
        &lt;div id=&quot;content&quot;&gt;
            &lt;%- body %&gt;
        &lt;/div&gt;

    &lt;/div&gt;

    &lt;!-- 引入 js 文件 --&gt;
    &lt;%- js(&#39;js/main.js&#39;) %&gt;

    &lt;!-- 引入代码高亮的 js --&gt;
    &lt;%- js(&#39;/lib/highlight/highlight.pack.js&#39;) %&gt;
    &lt;script&gt;hljs.initHighlightingOnLoad();&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190613004923042.png" alt="image-20190613004923042"></p>
<p>发现代码并没有高亮，找了下原因，原来是默认主题已经是 『highlight』代码高亮了，但是它的这些并不够炫酷，还是选择坚持用我自己下载的，所以我必须得去总配置文件 _config.yml 里面，把它给关闭，大概在 42 行的位置，将这 3 个选项关闭。</p>
<p>『_config.yml』</p>
<pre><code class="yml">highlight:
  enable: false
  line_number: false
  auto_detect: false
  tab_replace:</code></pre>
<p>修改配置文件以后，得重启 hexo 在重启前，先 hexo clean 以免还有缓存在。</p>
<pre><code class="sh">hexo clean
hexo s</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190613005313120.png" alt="image-20190613005313120"></p>
<p>代码出现高亮了，现在美化文章，增加 css</p>
<p>『main.css』</p>
<pre><code class="css">/* #################### 文章 #################### */
/* 作者 时间 相关 */
#post-author {
    font-size: 9px;
    position: absolute;
    top: 60px;
    right: 30px;
    color: #999;
}

#post-date {
    font-size: 9px;
    position: absolute;
    top: 80px;
    right: 30px;
    color: #999;
}

/* 文章各个元素间隔 */
#article {
    padding: 30px;
}
#article * {
    margin: 30px 0;
}


#article h1,
#article h2,
#article h3,
#article h4,
#article h5,
#article h6 {
    line-height: 40px;
    margin: 20px 0 15px;
}


#article h1 {
    font-size: 32px;
    font-weight: 900;
    padding-bottom: 10px;
    border-bottom: 2px solid #e06c75;
}

#article h2 {
    font-size: 25px;
    border-left: 3px solid #73b1e0;
    padding-left: 10px;
}

#article h3 {
    font-size: 22px
}

#article a {
    color: #e06c75;
    text-decoration: none;
}

#article a:hover {
    border-bottom: 1px solid;
}

#article h1 a:hover{
    border-bottom: none;
}

#article code {
    border-radius: 3px;
    box-shadow: 0px 0px 5px #999;
}

#article img {
    max-width: 100%;
    height: auto;
    border-radius: 5px;
    box-shadow: 0px 0px 8px #999;
}

#article pre {
    font-size: 14px;
    margin: 20px 0 15px;
}

#article p {
    margin: 0 0 10px;
    line-height: 30px
}

/* 表格处理 */
#article table {
  width: 100%;
  border: 0;
  margin: 20px 0 50px 0;
  border-collapse: collapse;
  border-spacing: 0;
  line-height: 35px;
  border-radius: 8px;
  box-shadow: 0px 0px 5px #999;
}

#article table th {
  background: #73b1e0;
  font-weight: 800;
  font-size: 18px;
  text-align: left;
  line-height: 35px;
  color: #FFF;
}

#article table tr:nth-child(odd) {
  background: #F4F4F4;
}

#article table tr:hover,
#article table td:hover {
  background: #badbf5;
  color: #FFF;
}

#article table td, table th {
  padding: 5px 20px 5px 20px
}

#article table tr:first-child th:first-child {
  border-top-left-radius: 3px;
}

#article table tr:first-child th:last-child {
  border-top-right-radius: 3px;
}

#article table tr:last-child td:first-child {
  border-bottom-left-radius: 3px;
}

#article table tr:last-child td:last-child {
  border-bottom-right-radius: 3px;
}

/* #################### 文章 #################### */</code></pre>
<p><img src="/2019/06/11/Hexo/主题开发/image-20190613014116367.png" alt="image-20190613014116367"></p>
<p>树状 js 动画</p>
<p>搜索</p>
<p>导航</p>
<p>文章标题导航</p>
<p>小娃娃</p>
<p>部署Nginx</p>
<p>部署github page</p>

</div>

		</div>
		
	</div>

	<!-- 引入代码高亮的 js -->
	<script src="/lib/highlight/highlight.pack.js"></script>

	<!-- 引入 jquery -->
	<script src="/lib/jquery-3.4.1.min.js"></script>

	<!-- 引入 pjax -->
	<script src="/lib/jquery.pjax.js"></script>
	
	<!-- 引入 js 文件 -->
	<script src="/js/main.js"></script>

</body>
</html>